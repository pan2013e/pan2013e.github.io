!function(){var t=document.getElementById("avatar-rotator");if(t){var e=t.querySelector(".avatar-caption"),a=t.querySelectorAll(".avatar-option[data-src]");if(a&&0!==a.length){var n=t.getAttribute("data-root")||"/",r=t.closest(".page")||t.parentElement,i=r?r.querySelector(".header.right"):null,o=0,h=0,u=0,d=!1,l=0,c=0,g=Math.floor(Math.random()*a.length),s=0;!function r(){if(!(s>=a.length)){var u=a[(g+s)%a.length];s+=1;var l=function(t){return"string"!=typeof t?"":"/"===t.charAt(0)&&n&&"/"!==n?n.replace(/\/$/,"")+t:t}(u.getAttribute("data-src"));if(!l)return r();var c=u.getAttribute("data-caption")||"",m=new Image;m.onload=function(){m.naturalWidth>0&&m.naturalHeight>0&&(o=m.naturalWidth,h=m.naturalHeight,t.style.setProperty("--avatar-ar",m.naturalWidth+" / "+m.naturalHeight)),d||(d=!0,window.addEventListener("resize",f),"undefined"!=typeof ResizeObserver&&i&&new ResizeObserver(f).observe(i)),f(),t.style.backgroundImage="url("+l+")",e&&(e.textContent=c),t.setAttribute("aria-label",c||"Avatar")},m.onerror=function(){r()},m.src=l}}()}}function m(e,a){e=Math.round(e),a=Math.round(a),Math.abs(e-l)<1&&Math.abs(a-c)<1||(l=e,c=a,t.style.width=e+"px",t.style.height=a+"px")}function f(){u&&cancelAnimationFrame(u),u=requestAnimationFrame((function(){u=0,function(){if(o>0&&h>0){var t=o/h,e=window.matchMedia&&window.matchMedia("(min-width:800px)").matches,a=r?r.getBoundingClientRect().width:window.innerWidth;if(e&&i){var n=.95*i.getBoundingClientRect().height,u=Math.min(400,.65*window.innerHeight),d=n=Math.max(180,Math.min(n,u));return(c=n*t)>(l=Math.min(520,.55*a))&&(d=(c=l)/t),void m(c,d)}d=(c=l=Math.min(a,300))/t;var l,c,g=Math.min(300,.6*window.innerHeight);d>g&&(c=(d=g)*t),m(c,d)}}()}))}}();